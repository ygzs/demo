<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>个人简历</title>
	<link rel="stylesheet" href="./b.css">
	<link rel="stylesheet" href="./main.css">
	<script src="//at.alicdn.com/t/font_1675670_wvjuh9iw2sr.js"></script>
	<style type="text/css">
		.icon {
		   width: 1em; height: 1em;
		   vertical-align: -0.15em;
		   fill: currentColor;
		   overflow: hidden;
		}
	</style>
</head>
<body>
	<div id="FirstOfAll" class="FirstOfAll active">
		<div class="loading"></div>
	</div>
	<div id="TopNavBar" class="TopNavBar">
		<div class="TopNavBar-in clearfix">
			<a class="logo" href="#" alt="logo" style="float: left;">
				<span class="rs">RS</span><span class="card">card</span>  
			</a>
		<nav class="menu" style="float: right;"> 
			<ul class="clearfix">
				<li><a href="#siteAbout">关于</a></li>
				<li><a href="#siteSkills">技能</a></li>
				<li>
					<a href="#siteWorks">作品</a>
					<ul class="submenu">
						<li>作品一</li>
						<li>作品二</li>
						<li>作品三</li>
					</ul>
				</li>
				<li>
					<a href="#">博客</a>
					<ul class="submenu">
						<li>博客一</li>
						<li>博客二</li>
					</ul>
				</li>
				<li><a href="#">日历</a></li>
				<li><a href="#">联系方式</a></li>
				<li><a href="#">其他</a></li>
			</ul>
		</nav>
		</div>
	</div>
		<div class="banner"><div class="mask"></div></div>
	<main style="margin-top: -350px ;">
		<div data-x id="siteAbout" class="usercard">
			<div class="PictureAndText clearfix">
			    <div class="picture">
				    <img src="./img/wo.jpg" alt="头像">
			    </div>
				<div class="text">
				    <span class="welcome">您好！
						<span class="triangle"></span>
					</span>
				    <h1>郑鹏</h1>
				    <h4>前端开发工程师</h4>
			    <hr>
			        <dl>
				    <dt>年龄</dt>
				    <dd>22</dd>
				    <dt>所在城市</dt>
				    <dd>河南</dd>
				    <dt>邮箱</dt>
				    <dd>1103449238@qq.com</dd>
				    <dt>手机</dt>
					<dd>16638352771</dd>
					<dt>毕业学校</dt>
				    <dd>河南师范大学</dd> 
			        </dl>	
			    </div>
		    </div>
		    <footer class="media">
			<a href="#">
				<svg class="icon" aria-hidden="true">
				<use xlink:href="#icon-weibo"></use></svg>
			</a>
			<a href="#">
				<svg class="icon" aria-hidden="true">
				<use xlink:href="#icon-csdn"></use></svg>
			</a>
			<a href="#">
				<svg class="icon" aria-hidden="true">
				<use xlink:href="#icon-zhihu0"></use></svg>
			</a>
			<a href="#">
				<svg class="icon" aria-hidden="true">
					<use xlink:href="#icon-github"></use></svg>
			</a>
	        </footer>
		</div>
	<p class="download-resume-wrapper">
		<a class="download-resume" href="./rs.pdf" target="_blank" download>下载 pdf 简历</a>
	</p>	
	<p class="self-introduction">
		参加为期两个月的讲课说课实习，获得了教学工作的实际锻炼的基础上，也使我的专业知识进一步加深。<br>
        参加为期两个月的科研训练，在老师的帮助下，设计了一款二手物品交易系统，使我受益颇深。

	</p>
	</main>
    <section data-x id="siteSkills" class="skills">
		<h2>技能</h2>
		<ol class="clearfix">
			<li>HTML 5 &amp; CSS 3
				<div class="progress-bar">
					<div class="progress" style="width: 80%;"></div>
				</div>
			</li>
			<li>JavaScript
				<div class="progress-bar">
					<div class="progress" style="width: 70%;"></div>
				</div>
			</li>
			<li>jQuery
				<div class="progress-bar">
					<div class="progress" style="width: 60%;"></div>
				</div>
			</li>
			<li>Vue
				<div class="progress-bar">
					<div class="progress" style="width: 50%;"></div>
				</div>
			</li>
			<li>React
				<div class="progress-bar">
					<div class="progress"style="width: 40%;"></div>
				</div>
			</li>
			<li>HTTP
				<div class="progress-bar">
					<div class="progress" style="width: 30%;"></div>
				</div>
			</li>
		</ol>
	</section>
	<section data-x id="siteWorks" class="portfolio">
		<h2>作品集</h2>
		<nav> 
			<ol class="clearfix">
				<li id="portfolio1">所有</li>
				<li id="portfolio2">框架</li>
				<li id="portfolio3">原生 js&amp;css </li>
			</ol>
		<div id="portfoliobar" class="bar state-1">
			<div class="bar-in"></div>
		</div>
		</nav>
		<script>
			portfolio1.onclick=function(){
				portfoliobar.className = "bar state-1"
			}
			portfolio2.onclick=function(){
				portfoliobar.className = 'bar state-2'
			}
			portfolio3.onclick=function(){
				portfoliobar.className = 'bar state-3'
			}
		</script>
		<div class="works">
			<div class="big">
				<img src="./img/work1.jpg" alt="作品1" 
				style="width: 600px; height: 570px;">
			</div>
			<div class="small" style="top: 0px; left: 628px;">
				<img src="./img/work2.jpg" alt="作品2" 
				style="width: 290px; height: 270px;">
			</div>
			<div class="small" style="top: 300px; left: 628px;">
				<img src="./img/work3.jpg" alt="作品3" 
				style="width: 290px; height: 270px;">
			</div>
		  </div>	
	</section>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/tween.js/17.1.1/Tween.min.js"></script>
	<script>
		//延迟出现loading
		setTimeout(function(){
			FirstOfAll.classList.remove('active')
		},2000)
		//先给所有data-x元素加上offset
		let specialTags = document.querySelectorAll('[data-x]')
		for (let index = 1; index < specialTags.length; index++) {
			specialTags[index].classList.add('offset')
		}
		//判断屏幕是否滚动
		window.onscroll = function(xxx){
			if(window.scrollY > 0){
				TopNavBar.classList.add('stick')
			}
			else{
				TopNavBar.classList.remove('stick')
			}
			//查找离视口顶部最近的元素
			let specialTags = document.querySelectorAll('[data-x]')
			let minIndex = 0
			for (let index = 1; index < specialTags.length; index++) {
				if(Math.abs(specialTags[index].offsetTop -window.scrollY) <
				Math.abs(specialTags[minIndex].offsetTop - window.scrollY) ){
					minIndex = index
				}
			}
			//去除offset
			specialTags[minIndex].classList.remove('offset')
			//高亮当前的元素
			let id = specialTags[minIndex].id	//最近的元素的id
			let a = document.querySelector(' a[href="#' + id + '"] ')	//id对应的a标签
			let li = a.parentNode	//父节点li
			let brothersAndMe = li.parentNode.children	//包括自己的所有li
			for(let i = 0; i < brothersAndMe.length; i++){
				brothersAndMe[i].classList.remove('highlight')	
			}
			li.classList.add('highlight')	//先去除在添加，防止多个高亮
		}
		//鼠标移动到li时出现下划线和二级菜单
		let liTags = document.querySelectorAll('nav.menu > ul > li')
		for (let i = 0; i < liTags.length; i++) {
			liTags[i].onmouseenter = function(x){
				x.currentTarget.classList.add('active')
			}
			liTags[i].onmouseleave = function(x){
				x.currentTarget.classList.remove('active')
			}
		}
		//缓动跳转
		let aTags = document.querySelectorAll('nav.menu > ul >li >a')
		function animate(time) {
			requestAnimationFrame(animate);
			TWEEN.update(time);
		}
		requestAnimationFrame(animate);
		for (let i = 0; i < aTags.length; i++) {
			aTags[i].onclick = function(xx){
				xx.preventDefault()
				let a = xx.currentTarget
				let href = a.getAttribute('href')	//用户输入的href
				let element = document.querySelector(href)
				let top = element.offsetTop		//距离整个页面顶部的高度
				let currentTop = window.scrollY		//当前视口距离页面顶部高度
				let targetTop = top-70
				let s = targetTop - currentTop
				let t = Math.abs(s/100*300)
				if(t>500){
					t = 500
				}
				var coords = { y: currentTop }
				var tween = new TWEEN.Tween(coords)		//起始位置
        			.to({ y: targetTop }, t)		//结束位置和时间
        			.easing(TWEEN.Easing.Quadratic.InOut)		//缓动类型 
        			.onUpdate( function() {
						window.scrollTo(0,coords.y)		//更新界面
        			})
        			.start();		//开始
			}	
		}
	</script>
</body>
</html>
